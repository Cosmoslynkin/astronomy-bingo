<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸŒŒ å¤©æ–‡ Bingo æ¸¸æˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', 'PingFang SC', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #0c0c2e 0%, #1a1a3e 50%, #16213e 100%);
            min-height: 100vh;
            color: #fff;
            padding: 20px;
        }
        
        .container {
            max-width: 600px;
            margin: 0 auto;
        }
        
        h1 {
            text-align: center;
            font-size: 2em;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #ffd700, #ff6b6b, #4ecdc4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .subtitle {
            text-align: center;
            color: #888;
            margin-bottom: 20px;
            font-size: 0.9em;
        }
        
        .bingo-board {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 8px;
            margin-bottom: 20px;
        }
        
        .bingo-cell {
            aspect-ratio: 1;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 8px;
            font-size: 0.85em;
            cursor: pointer;
            transition: all 0.3s ease;
            user-select: none;
            line-height: 1.3;
        }
        
        .bingo-cell:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: scale(1.05);
        }
        
        .bingo-cell.marked {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-color: #ffd700;
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
        }
        
        .bingo-cell.win {
            animation: pulse 1s infinite;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        .center-cell {
            background: linear-gradient(135deg, #ffd700, #ffaa00);
            color: #1a1a3e;
            font-weight: bold;
        }
        
        .controls {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }
        
        button {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s;
            font-weight: bold;
        }
        
        .btn-new {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .btn-call {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        }
        
        .status {
            text-align: center;
            padding: 15px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            margin-bottom: 15px;
            min-height: 50px;
        }
        
        .current-call {
            font-size: 1.3em;
            color: #ffd700;
            font-weight: bold;
        }
        
        .called-list {
            margin-top: 10px;
            font-size: 0.85em;
            color: #aaa;
            max-height: 60px;
            overflow-y: auto;
        }
        
        .win-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 40px 60px;
            border-radius: 20px;
            text-align: center;
            font-size: 2em;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
            z-index: 1000;
            display: none;
        }
        
        .win-message.show {
            display: block;
            animation: popIn 0.5s ease;
        }
        
        @keyframes popIn {
            0% { transform: translate(-50%, -50%) scale(0); }
            80% { transform: translate(-50%, -50%) scale(1.1); }
            100% { transform: translate(-50%, -50%) scale(1); }
        }
        
        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }
        
        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: white;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }
    </style>
</head>
<body>
    <div class="stars" id="stars"></div>
    
    <div class="container">
        <h1>ğŸŒŒ å¤©æ–‡ Bingo</h1>
        <p class="subtitle">ç‚¹å‡»æ ¼å­æ ‡è®° | æ¨ªç«–æ–œè¿æˆä¸€çº¿è·èƒœ</p>
        
        <div class="status">
            <div class="current-call" id="currentCall">ç‚¹å‡»"æŠ½å–å¤©ä½“"å¼€å§‹æ¸¸æˆï¼</div>
            <div class="called-list" id="calledList"></div>
        </div>
        
        <div class="controls">
            <button class="btn-call" onclick="callNext()">ğŸ² æŠ½å–å¤©ä½“</button>
            <button class="btn-new" onclick="newGame()">ğŸ”„ æ–°æ¸¸æˆ</button>
        </div>
        
        <div class="bingo-board" id="board"></div>
    </div>
    
    <div class="win-message" id="winMessage">
        ğŸ‰ Bingo! ğŸ‰<br>
        <span style="font-size: 0.5em;">ä½ èµ¢äº†ï¼</span>
    </div>

    <script>
        // å¤©æ–‡ä¸»é¢˜è¯åº“
        const astronomyTerms = [
            'å¤ªé˜³', 'æœˆäº®', 'åœ°çƒ', 'ç«æ˜Ÿ', 'æœ¨æ˜Ÿ',
            'åœŸæ˜Ÿ', 'é‡‘æ˜Ÿ', 'æ°´æ˜Ÿ', 'å¤©ç‹æ˜Ÿ', 'æµ·ç‹æ˜Ÿ',
            'å†¥ç‹æ˜Ÿ', 'é“¶æ²³ç³»', 'é»‘æ´', 'ä¸­å­æ˜Ÿ', 'è¶…æ–°æ˜Ÿ',
            'æ—¥é£Ÿ', 'æœˆé£Ÿ', 'æµæ˜Ÿé›¨', 'æå…‰', 'å½—æ˜Ÿ',
            'å°è¡Œæ˜Ÿ', 'ç©ºé—´ç«™', 'å«æ˜Ÿ', 'ç«ç®­', 'å®‡èˆªå‘˜',
            'æœ›è¿œé•œ', 'æ˜Ÿåº§', 'åŒ—ææ˜Ÿ', 'å¤©ç‹¼æ˜Ÿ', 'çŒæˆ·åº§',
            'ä»™å¥³åº§', 'åŒ—æ–—ä¸ƒæ˜Ÿ', 'é»„é“åäºŒå®«', 'å®‡å®™', 'æš—ç‰©è´¨',
            'å…‰å¹´', 'å¼•åŠ›æ³¢', 'è™«æ´', 'æ˜Ÿäº‘', 'æ˜Ÿå›¢',
            'çº¢å·¨æ˜Ÿ', 'ç™½çŸ®æ˜Ÿ', 'è„‰å†²æ˜Ÿ', 'ç±»æ˜Ÿä½“', 'å®œå±…å¸¦'
        ];
        
        let board = [];
        let marked = new Set();
        let called = new Set();
        let gameWon = false;
        
        // åˆå§‹åŒ–æ˜Ÿç©ºèƒŒæ™¯
        function createStars() {
            const starsContainer = document.getElementById('stars');
            for (let i = 0; i < 100; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 3 + 's';
                starsContainer.appendChild(star);
            }
        }
        
        // éšæœºæ‰“ä¹±æ•°ç»„
        function shuffle(array) {
            return [...array].sort(() => Math.random() - 0.5);
        }
        
        // ç”Ÿæˆæ–°æ¸¸æˆæ¿
        function generateBoard() {
            const shuffled = shuffle(astronomyTerms);
            board = shuffled.slice(0, 25);
            // ä¸­é—´æ ¼å­æ˜¯"è‡ªç”±æ ¼"
            board[12] = 'â­ FREE';
            marked.clear();
            called.clear();
            gameWon = false;
            marked.add(12); // è‡ªåŠ¨æ ‡è®°ä¸­é—´
        }
        
        // æ¸²æŸ“æ¸¸æˆæ¿
        function renderBoard() {
            const boardEl = document.getElementById('board');
            boardEl.innerHTML = '';
            
            board.forEach((term, index) => {
                const cell = document.createElement('div');
                cell.className = 'bingo-cell';
                if (index === 12) cell.classList.add('center-cell');
                if (marked.has(index)) cell.classList.add('marked');
                cell.textContent = term;
                cell.onclick = () => toggleCell(index);
                boardEl.appendChild(cell);
            });
        }
        
        // åˆ‡æ¢æ ¼å­æ ‡è®°
        function toggleCell(index) {
            if (gameWon) return;
            
            if (marked.has(index)) {
                marked.delete(index);
            } else {
                marked.add(index);
            }
            
            renderBoard();
            checkWin();
        }
        
        // æ£€æŸ¥æ˜¯å¦è·èƒœ
        function checkWin() {
            // æ‰€æœ‰å¯èƒ½çš„è¿çº¿
            const lines = [
                // æ¨ªæ’
                [0,1,2,3,4], [5,6,7,8,9], [10,11,12,13,14], [15,16,17,18,19], [20,21,22,23,24],
                // ç«–æ’
                [0,5,10,15,20], [1,6,11,16,21], [2,7,12,17,22], [3,8,13,18,23], [4,9,14,19,24],
                // å¯¹è§’çº¿
                [0,6,12,18,24], [4,8,12,16,20]
            ];
            
            for (const line of lines) {
                if (line.every(i => marked.has(i))) {
                    gameWon = true;
                    line.forEach(i => {
                        document.querySelectorAll('.bingo-cell')[i].classList.add('win');
                    });
                    setTimeout(() => {
                        document.getElementById('winMessage').classList.add('show');
                    }, 300);
                    return;
                }
            }
        }
        
        // æŠ½å–ä¸‹ä¸€ä¸ªå¤©ä½“
        function callNext() {
            if (gameWon) return;
            
            const available = board.filter((_, i) => !called.has(i) && i !== 12);
            if (available.length === 0) {
                document.getElementById('currentCall').textContent = 'æ‰€æœ‰å¤©ä½“éƒ½å·²æŠ½å–å®Œæ¯•ï¼';
                return;
            }
            
            const randomIndex = Math.floor(Math.random() * board.length);
            if (called.has(randomIndex) || randomIndex === 12) {
                callNext();
                return;
            }
            
            called.add(randomIndex);
            const term = board[randomIndex];
            document.getElementById('currentCall').textContent = `ğŸ¯ ${term}`;
            
            const calledList = Array.from(called).map(i => board[i]).join('ã€');
            document.getElementById('calledList').textContent = `å·²æŠ½å–ï¼š${calledList}`;
        }
        
        // æ–°æ¸¸æˆ
        function newGame() {
            document.getElementById('winMessage').classList.remove('show');
            document.getElementById('currentCall').textContent = 'ç‚¹å‡»"æŠ½å–å¤©ä½“"å¼€å§‹æ¸¸æˆï¼';
            document.getElementById('calledList').textContent = '';
            generateBoard();
            renderBoard();
        }
        
        // ç‚¹å‡»è·èƒœæ¶ˆæ¯å…³é—­
        document.getElementById('winMessage').onclick = function() {
            this.classList.remove('show');
        };
        
        // åˆå§‹åŒ–
        createStars();
        generateBoard();
        renderBoard();
    </script>
</body>
</html>